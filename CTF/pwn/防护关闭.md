## 关闭ASLR

`sudo sh -c "echo 0 > /proc/sys/kernel/randomize_va_space"`

或`sudo sysctl -w kernel.randomize_va_space=0`

## 开启core dump

`sudo sh -c "echo '/tmp/core.%t' > /proc/sys/kernel/core_pattern`

开启core dump这个功能。

```shell
#!bash
ulimit -c unlimited
sudo sh -c 'echo "/tmp/core.%t" > /proc/sys/kernel/core_pattern'
```

开启之后，当出现内存错误的时候，系统会生成一个core dump文件在tmp目录下。然后我们再用gdb查看这个core文件就可以获取到buf真正的地址了。